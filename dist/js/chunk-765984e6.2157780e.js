(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-765984e6"],{"07cd":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-select",{attrs:{multiple:"",options:e.options},model:{value:e.showFields,callback:function(t){e.showFields=t},expression:"showFields"}})],1)},r=[],a=(n("4de4"),n("caad"),n("b0c0"),n("2532"),n("5530")),s=n("2f62"),o=n("4a7a"),c=n.n(o),l=(n("6dfc"),{name:"company-select",components:{vSelect:c.a},props:{ids:{type:Array,default:[]},removeCurrentId:{type:Boolean,default:!1}},computed:Object(a["a"])({},Object(s["b"])(["companies","currentCompanyId"])),data:function(){return{options:[],fields:[],showFields:[{key:"all",label:"Alla",show:!0}],locked:!1}},watch:{showFields:function(e,t){var n=this.fields;if(e.length!=this.fields.length){for(var i=function(t){e[t].hasOwnProperty("code")&&(e[t].key=e[t].code),!e[t].show&&e[t].hasOwnProperty("show")||(n=n.filter((function(n){return n.label!==e[t].label})))},r=0;r<e.length;++r)i(r);this.removeCurrentCompany(n),this.$emit("selectedCompanies",e)}else this.showFields=[]},companies:function(e,t){this.setLists()},ids:function(e,t){var n=this;this.options.filter((function(t){e.includes(t.code)&&n.showFields.push(t)}))}},methods:{isAll:function(){return this.showFields.length>0&&("all"===this.showFields[0].key||"all"===this.showFields[0].code)},getCompanies:function(){if(this.isAll())return["all"];for(var e=[],t=0;t<this.showFields.length;++t)"all"!==this.showFields[t].key&&"all"!==this.showFields[t].code&&e.push(this.showFields[t].code);return e},setCompanies:function(e){this.showFields=[];for(var t=0;t<e.length;++t){var n=this.getCompany(e[t]);null!==n&&void 0!==n&&this.showFields.push({code:e[t],key:e[t],label:n.name,show:!0})}console.log(this.showFields,"SetComapnies")},getCompany:function(e){for(var t=0;t<this.companies.length;++t)if(this.companies[t].id===e)return this.companies[t];return console.log(this.showFields,"SetComapnies"),null},setLists:function(){this.fields=[];for(var e=0;e<this.companies.length;++e)this.fields.push({code:this.companies[e].id,label:this.companies[e].name});for(var t=this.fields,n=this,i=function(e){!n.showFields[e].show&&n.showFields[e].hasOwnProperty("show")||(t=t.filter((function(t){return t.label!==n.showFields[e].label})))},r=0;r<n.showFields.length;++r)i(r);this.removeCurrentCompany(t)},reset:function(){this.showFields=[{key:"all",label:"Alla",show:!0}]},removeCurrentCompany:function(e){var t=this;this.removeCurrentId?this.options=e.filter((function(e){return e.code!==t.currentCompanyId})):this.options=e}},mounted:function(){this.setLists();var e=this;setInterval((function(){e.showFields.length>1&&"all"===e.showFields[0].key?e.showFields=e.showFields.filter((function(e){return"all"!==e.key&&"all"!==e.code})):0===e.showFields.length&&(e.showFields=[{code:"all",key:"all",label:"Alla",show:!0}])}),100)}}),d=l,u=n("2877"),m=n("6544"),p=n.n(m),f=n("b974"),h=Object(u["a"])(d,i,r,!1,null,null,null);t["a"]=h.exports;p()(h,{VSelect:f["a"]})},"3a43":function(e,t,n){},"3fbd":function(e,t,n){"use strict";n("fd5e")},"4fdd":function(e,t,n){},"88ef":function(e,t,n){"use strict";n("b922")},b922:function(e,t,n){},b987:function(e,t,n){"use strict";n("ef61")},b990:function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"01f9":function(e,t,n){"use strict";var i=n("2d00"),r=n("5ca1"),a=n("2aba"),s=n("32e9"),o=n("84f2"),c=n("41a0"),l=n("7f20"),d=n("38fd"),u=n("2b4c")("iterator"),m=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",h="values",_=function(){return this};e.exports=function(e,t,n,b,v,g,C){c(n,t,b);var y,T,E,k=function(e){if(!m&&e in N)return N[e];switch(e){case f:return function(){return new n(this,e)};case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},O=t+" Iterator",A=v==h,S=!1,N=e.prototype,x=N[u]||N[p]||v&&N[v],M=x||k(v),I=v?A?k("entries"):M:void 0,w="Array"==t&&N.entries||x;if(w&&(E=d(w.call(new e)),E!==Object.prototype&&E.next&&(l(E,O,!0),i||"function"==typeof E[u]||s(E,u,_))),A&&x&&x.name!==h&&(S=!0,M=function(){return x.call(this)}),i&&!C||!m&&!S&&N[u]||s(N,u,M),o[t]=M,o[O]=_,v)if(y={values:A?M:k(h),keys:g?M:k(f),entries:I},C)for(T in y)T in N||a(N,T,y[T]);else r(r.P+r.F*(m||S),t,y);return y}},"0d58":function(e,t,n){var i=n("ce10"),r=n("e11e");e.exports=Object.keys||function(e){return i(e,r)}},"11e9":function(e,t,n){var i=n("52a7"),r=n("4630"),a=n("6821"),s=n("6a99"),o=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(n){}if(o(e,t))return r(!i.f.call(e,t),e[t])}},1495:function(e,t,n){var i=n("86cc"),r=n("cb7c"),a=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){r(e);var n,s=a(t),o=s.length,c=0;while(o>c)i.f(e,n=s[c++],t[n]);return e}},"230e":function(e,t,n){var i=n("d3f4"),r=n("7726").document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},"2aba":function(e,t,n){var i=n("7726"),r=n("32e9"),a=n("69a8"),s=n("ca5a")("src"),o="toString",c=Function[o],l=(""+c).split(o);n("8378").inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,o){var c="function"==typeof n;c&&(a(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(a(n,s)||r(n,s,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=n:o?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,o,(function(){return"function"==typeof this&&this[s]||c.call(this)}))},"2aeb":function(e,t,n){var i=n("cb7c"),r=n("1495"),a=n("e11e"),s=n("613b")("IE_PROTO"),o=function(){},c="prototype",l=function(){var e,t=n("230e")("iframe"),i=a.length,r="<",s=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+s+"document.F=Object"+r+"/script"+s),e.close(),l=e.F;while(i--)delete l[c][a[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(o[c]=i(e),n=new o,o[c]=null,n[s]=e):n=l(),void 0===t?n:r(n,t)}},"2b4c":function(e,t,n){var i=n("5537")("wks"),r=n("ca5a"),a=n("7726").Symbol,s="function"==typeof a,o=e.exports=function(e){return i[e]||(i[e]=s&&a[e]||(s?a:r)("Symbol."+e))};o.store=i},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2fdb":function(e,t,n){"use strict";var i=n("5ca1"),r=n("d2c8"),a="includes";i(i.P+i.F*n("5147")(a),"String",{includes:function(e){return!!~r(this,e,a).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(e,t,n){var i=n("86cc"),r=n("4630");e.exports=n("9e1e")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},"38fd":function(e,t,n){var i=n("69a8"),r=n("4bf8"),a=n("613b")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"41a0":function(e,t,n){"use strict";var i=n("2aeb"),r=n("4630"),a=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),a(e,t+" Iterator")}},"44ea":function(e,t,n){"use strict";var i=n("feb2"),r=n.n(i);r.a},"456d":function(e,t,n){var i=n("4bf8"),r=n("0d58");n("5eda")("keys",(function(){return function(e){return r(i(e))}}))},4588:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4bf8":function(e,t,n){var i=n("be13");e.exports=function(e){return Object(i(e))}},5147:function(e,t,n){var i=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(r){}}return!0}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,n){var i=n("8378"),r=n("7726"),a="__core-js_shared__",s=r[a]||(r[a]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,n){var i=n("7726"),r=n("8378"),a=n("32e9"),s=n("2aba"),o=n("9b43"),c="prototype",l=function(e,t,n){var d,u,m,p,f=e&l.F,h=e&l.G,_=e&l.S,b=e&l.P,v=e&l.B,g=h?i:_?i[t]||(i[t]={}):(i[t]||{})[c],C=h?r:r[t]||(r[t]={}),y=C[c]||(C[c]={});for(d in h&&(n=t),n)u=!f&&g&&void 0!==g[d],m=(u?g:n)[d],p=v&&u?o(m,i):b&&"function"==typeof m?o(Function.call,m):m,g&&s(g,d,m,e&l.U),C[d]!=m&&a(C,d,p),b&&y[d]!=m&&(y[d]=m)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"5dbc":function(e,t,n){var i=n("d3f4"),r=n("8b97").set;e.exports=function(e,t,n){var a,s=t.constructor;return s!==n&&"function"==typeof s&&(a=s.prototype)!==n.prototype&&i(a)&&r&&r(e,a),e}},"5eda":function(e,t,n){var i=n("5ca1"),r=n("8378"),a=n("79e5");e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*a((function(){n(1)})),"Object",s)}},"613b":function(e,t,n){var i=n("5537")("keys"),r=n("ca5a");e.exports=function(e){return i[e]||(i[e]=r(e))}},"626a":function(e,t,n){var i=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},6762:function(e,t,n){"use strict";var i=n("5ca1"),r=n("c366")(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(e,t,n){var i=n("626a"),r=n("be13");e.exports=function(e){return i(r(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var i=n("d3f4");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var i=n("4588"),r=Math.max,a=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):a(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7f20":function(e,t,n){var i=n("86cc").f,r=n("69a8"),a=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},"7f7f":function(e,t,n){var i=n("86cc").f,r=Function.prototype,a=/^\s*function ([^ (]*)/,s="name";s in r||n("9e1e")&&i(r,s,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},8378:function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,n){var i=n("cb7c"),r=n("c69a"),a=n("6a99"),s=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return s(e,t,n)}catch(o){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"8b97":function(e,t,n){var i=n("d3f4"),r=n("cb7c"),a=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:a}},"8bbf":function(e,t){e.exports=n("2b0e")},9093:function(e,t,n){var i=n("ce10"),r=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},9224:function(e){e.exports={name:"vue-email-editor",version:"0.7.2",main:"./dist/vue-email-editor.common.js",scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build","build-bundle":"vue-cli-service build --target lib --name vue-email-editor ./src/components/index.js",lint:"vue-cli-service lint",release:"npm run build-bundle && npm publish"},dependencies:{vue:"^2.5.17"},devDependencies:{"@vue/cli-plugin-babel":"^3.0.5","@vue/cli-plugin-eslint":"^3.0.5","@vue/cli-service":"^3.0.5","vue-router":"^3.3.2","vue-template-compiler":"^2.5.17"},files:["dist/*","src/*","public/*","*.json","*.js"],eslintConfig:{root:!0,env:{node:!0},extends:["plugin:vue/essential","eslint:recommended"],rules:{},parserOptions:{parser:"babel-eslint"}},postcss:{plugins:{autoprefixer:{}}},browserslist:["> 1%","last 2 versions","not ie <= 8"]}},"9b43":function(e,t,n){var i=n("d8e8");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var i=n("2b4c")("unscopables"),r=Array.prototype;void 0==r[i]&&n("32e9")(r,i,{}),e.exports=function(e){r[i][e]=!0}},"9def":function(e,t,n){var i=n("4588"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},aa77:function(e,t,n){var i=n("5ca1"),r=n("be13"),a=n("79e5"),s=n("fdef"),o="["+s+"]",c="​",l=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),u=function(e,t,n){var r={},o=a((function(){return!!s[e]()||c[e]()!=c})),l=r[e]=o?t(m):s[e];n&&(r[n]=l),i(i.P+i.F*o,"String",r)},m=u.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(d,"")),e};e.exports=u},aae3:function(e,t,n){var i=n("d3f4"),r=n("2d95"),a=n("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},ac6a:function(e,t,n){for(var i=n("cadf"),r=n("0d58"),a=n("2aba"),s=n("7726"),o=n("32e9"),c=n("84f2"),l=n("2b4c"),d=l("iterator"),u=l("toStringTag"),m=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),h=0;h<f.length;h++){var _,b=f[h],v=p[b],g=s[b],C=g&&g.prototype;if(C&&(C[d]||o(C,d,m),C[u]||o(C,u,b),c[b]=m,v))for(_ in i)C[_]||a(C,_,i[_],!0)}},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var i=n("6821"),r=n("9def"),a=n("77f1");e.exports=function(e){return function(t,n,s){var o,c=i(t),l=r(c.length),d=a(s,l);if(e&&n!=n){while(l>d)if(o=c[d++],o!=o)return!0}else for(;l>d;d++)if((e||d in c)&&c[d]===n)return e||d||0;return!e&&-1}}},c5f6:function(e,t,n){"use strict";var i=n("7726"),r=n("69a8"),a=n("2d95"),s=n("5dbc"),o=n("6a99"),c=n("79e5"),l=n("9093").f,d=n("11e9").f,u=n("86cc").f,m=n("aa77").trim,p="Number",f=i[p],h=f,_=f.prototype,b=a(n("2aeb")(_))==p,v="trim"in String.prototype,g=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():m(t,3);var n,i,r,a=t.charCodeAt(0);if(43===a||45===a){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var s,c=t.slice(2),l=0,d=c.length;l<d;l++)if(s=c.charCodeAt(l),s<48||s>r)return NaN;return parseInt(c,i)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof f&&(b?c((function(){_.valueOf.call(n)})):a(n)!=p)?s(new h(g(t)),n,f):g(t)};for(var C,y=n("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;y.length>T;T++)r(h,C=y[T])&&!r(f,C)&&u(f,C,d(h,C));f.prototype=_,_.constructor=f,n("2aba")(i,p,f)}},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},ca5a:function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},cadf:function(e,t,n){"use strict";var i=n("9c6c"),r=n("d53b"),a=n("84f2"),s=n("6821");e.exports=n("01f9")(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},cb7c:function(e,t,n){var i=n("d3f4");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,n){var i=n("69a8"),r=n("6821"),a=n("c366")(!1),s=n("613b")("IE_PROTO");e.exports=function(e,t){var n,o=r(e),c=0,l=[];for(n in o)n!=s&&i(o,n)&&l.push(n);while(t.length>c)i(o,n=t[c++])&&(~a(l,n)||l.push(n));return l}},d2c8:function(e,t,n){var i=n("aae3"),r=n("be13");e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},fab2:function(e,t,n){var i=n("7726").document;e.exports=i&&i.documentElement},fb15:function(e,t,n){"use strict";var i;(n.r(t),"undefined"!==typeof window)&&((i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js$/))&&(n.p=i[1]));n("7f7f"),n("cadf"),n("456d"),n("ac6a");var r=n("8bbf"),a=n.n(r),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unlayer-editor",style:{minHeight:e.minHeight},attrs:{id:e.editorId}})},o=[];function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){c(e,t,n[t])}))}return e}n("c5f6"),n("6762"),n("2fdb");var d="//editor.unlayer.com/embed.js?2",u=[],m=!1,p=function(){var e=document.querySelectorAll("script"),t=!1;return e.forEach((function(e){e.src.includes(d)&&(t=!0)})),t},f=function(e){u.push(e)},h=function(){var e;if(m)while(e=u.shift())e()},_=function(e){if(f(e),p())h();else{var t=document.createElement("script");t.setAttribute("src",d),t.onload=function(){m=!0,h()},document.head.appendChild(t)}},b=n("9224"),v=0,g={name:"EmailEditor",props:{options:Object,projectId:Number,tools:Object,appearance:Object,locale:String,minHeight:{type:String,default:"500px"}},computed:{editorId:function(){return"editor-".concat(++v)}},created:function(){},mounted:function(){_(this.loadEditor.bind(this))},methods:{loadEditor:function(){var e=this.options||{};this.projectId&&(e.projectId=this.projectId),this.tools&&(e.tools=this.tools),this.appearance&&(e.appearance=this.appearance),this.locale&&(e.locale=this.locale),this.editor=unlayer.createEditor(l({},e,{id:this.editorId,displayMode:"email",source:{name:b.name,version:b.version}})),this.$emit("load")},loadDesign:function(e){this.editor.loadDesign(e)},saveDesign:function(e){this.editor.saveDesign(e)},exportHtml:function(e){this.editor.exportHtml(e)}}},C=g;n("44ea");function y(e,t,n,i,r,a,s,o){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):r&&(c=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}var T=y(C,s,o,!1,null,"46fc73fe",null);T.options.__file="EmailEditor.vue";var E=T.exports,k={EmailEditor:E};Object.keys(k).forEach((function(e){a.a.component(e,k[e])}));var O=k;n.d(t,"EmailEditor",(function(){return E}));t["default"]=O},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},feb2:function(e,t,n){}})},db04:function(e,t,n){"use strict";n("3a43")},ef61:function(e,t,n){},fbba:function(e,t,n){"use strict";n("4fdd")},fc9c:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-5",attrs:{id:"page-templates"}},[n("h5",{staticClass:"mb-6 ml-2"},[e._v("Mallar")]),n("TemplatesTable",{attrs:{items:e.templates,currentCompanyId:e.currentCompanyId},on:{createTemplateClicked:e.createTemplate,copyTemplateClicked:e.copyTemplate,selectTemplateClicked:e.selectTemplate,deleteTemplateClicked:e.deleteTemplate,changeSystem:e.changeSystem,toastr:e.toastr}}),n("div",{staticClass:"scroll-to-container"}),e.creating||e.editing?n("b-card",{ref:"edit-template",staticClass:"mb-2 edit-template-container",attrs:{title:"",id:"edit-template","hide-footer":""}},[n("div",[n("b-form",{staticClass:"mt-8",on:{submit:function(t){return t.preventDefault(),e.saveTemplate(t)}}},[n("b-form-group",{attrs:{id:"input-group-template_id",label:"ID","label-for":"input-template_id"}},[n("b-form-input",{attrs:{id:"input-template_id",type:"text",required:"",disabled:""},model:{value:e.form.template_id,callback:function(t){e.$set(e.form,"template_id",t)},expression:"form.template_id"}})],1),n("b-form-group",{attrs:{id:"input-group-1",label:"Mallnamn","label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input-1",type:"text",required:"",placeholder:"Mallnamn"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("b-form-group",{attrs:{id:"reply_to-group",label:"Reply-to","label-for":"reply_to"}},[n("b-form-input",{attrs:{id:"reply_to",required:"",placeholder:"test@memlist.se"},model:{value:e.form.reply_to,callback:function(t){e.$set(e.form,"reply_to",t)},expression:"form.reply_to"}})],1),n("b-form-group",{attrs:{id:"from_name-group",label:"Från Namn","label-for":"from_name"}},[n("b-form-input",{attrs:{id:"from_name",required:"",placeholder:"Föreningsnamn"},model:{value:e.form.from_name,callback:function(t){e.$set(e.form,"from_name",t)},expression:"form.from_name"}})],1),n("b-form-group",{attrs:{id:"subject-group",label:"Ärende","label-for":"subject"}},[n("b-form-input",{attrs:{id:"subject",placeholder:"Endast för e-post"},model:{value:e.form.subject,callback:function(t){e.$set(e.form,"subject",t)},expression:"form.subject"}})],1),e.creating?e._e():n("b-row",[n("b-col",{attrs:{lg:"8"}},[n("CompanySelect",{ref:"companies_selected",staticClass:"mb-4",attrs:{ids:[]}})],1),n("b-col",{attrs:{lg:"4"}},[n("b-button",{staticClass:"ml-2",attrs:{variant:"outline-success"},on:{click:e.moveToCompanies}},[e._v("Kopiera till")])],1)],1),n("b-form-group",[e.isTalongAdmin?n("div",{staticClass:"d-flex align-items-center mb-6 mt-4"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{attrs:{type:"checkbox",name:""},domProps:{checked:e.form.is_system},on:{click:function(t){e.form.is_system=!e.form.is_system}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Systemet")])]):e._e(),n("div",{staticClass:"d-flex align-items-center mb-6 mt-4"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{attrs:{type:"checkbox",name:""},domProps:{checked:e.sms},on:{click:function(t){e.sms=!e.sms}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Är SMS")])]),n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{attrs:{type:"checkbox",name:""},domProps:{checked:e.stickprov},on:{click:function(t){e.stickprov=!e.stickprov}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"},[e._v("Är E-post")])])]),e.isSMS?n("b-textarea",{staticClass:"mb-2",attrs:{rows:"8"},model:{value:e.sms_content,callback:function(t){e.sms_content=t},expression:"sms_content"}}):e._e(),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Spara")]),n("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.isSMS,expression:"!isSMS"}],staticClass:"ml-2",attrs:{variant:"outline-success"},on:{click:e.toggleFullscreen}},[e._v("Editera mall")]),null!==e.sendout_id?n("b-button",{staticClass:"ml-2",attrs:{variant:"success"},on:{click:e.backToSendout}},[e._v("Tillbaka")]):e._e()],1)],1)]):e._e(),n("b-modal",{attrs:{"body-class":"dark-modal-body","header-class":"dark-modal",size:"xl","hide-footer":""},model:{value:e.fullscreen,callback:function(t){e.fullscreen=t},expression:"fullscreen"}},[n("EmailTemplateEditor",{attrs:{design:e.templateDesign},on:{saveDesign:e.saveDesign}})],1)],1)},r=[],a=(n("99af"),n("4de4"),n("a434"),n("b0c0"),n("b85c")),s=(n("96cf"),n("1da1")),o=n("5530"),c=n("ca72"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container"},[n("div",{attrs:{id:"bar"}},[n("h1",{staticClass:"pt-3"},[e._v("E-posteditor")]),n("b-button",{staticClass:"ml-2",attrs:{variant:"primary"},on:{click:e.saveDesign}},[e._v("Spara")])],1),n("EmailEditor",{ref:"emailEditor",attrs:{appearance:e.appearance,"min-height":e.minHeight,"project-id":e.projectId,locale:e.locale,options:e.options},on:{load:e.editorLoaded}})],1)])},d=[],u=n("b990"),m=[{id:"CLIENT_ID",name:"Medlem: ID"},{id:"CLIENT_PUBLIC_ID",name:"Medlem: Medlemsnummer"},{id:"CLIENT_FIRSTNAME",name:"Medlem: Förnamn"},{id:"CLIENT_LASTNAME",name:"Medlem: Efternamn"},{id:"CLIENT_EMAIL",name:"Medlem: E-post"},{id:"CLIENT_PHONE",name:"Medlem: Telefon"},{id:"CLIENT_ADDRESS",name:"Medlem: Gatuadress"},{id:"CLIENT_PERSONNR",name:"Medlem: Personnummer"},{id:"CLIENT_POSTADDRESS",name:"Medlem: Postort"},{id:"CLIENT_ZIPCODE",name:"Medlem: Postkod"},{id:"CLIENT_TOKEN",name:"Medlem: Logintoken"},{id:"CLIENT_PASSWORD_RESET_TOKEN",name:"Medlem: Lösenordreset token"},{id:"STICKPROV_URL",name:"Medlem: Stickprov URL"},{id:"CLIENT_RENEW_PERIOD_URL",name:"Medlem: Förnya medlemskap URL"},{id:"MEMLIST_CLIENT_CONFIRM_LINK",name:"Medlem: Bekräfta medlemskap URL"},{id:"USER_INVITE_TOKEN",name:"Användare inbjudningstoken"},{id:"USER_ID",name:"Användare ID"},{id:"USER_EMAIL",name:"Användare E-post"},{id:"USER_FIRSTNAME",name:"Användare förnamn"},{id:"USER_LASTNAME",name:"Användare Efternamn"},{id:"USER_PHONE",name:"Användare Telefon"},{id:"USER_PERSONNR",name:"Användare Personnummer"},{id:"USER_CURRENT_COMPANY_ID",name:"Användare FöreningsID"},{id:"USER_PASSWORD_RESET_TOKEN",name:"Användare Lösenord Reset Token"},{id:"USER_AUTH_TOKEN_LINK",name:"Användare Logintoken"},{id:"TODO_WIZARD_LINK",name:"Ärendehanteringswizard länk"},{id:"MUCF_WIZARD_LINK",name:"MUCF Wizard länk"},{id:"IMPORT_WIZARD_LINK",name:"Import Wizard länk"},{id:"MEMLIST_ADMIN_CONFIRM_LINK",name:"Bekräfta administratör länk"},{id:"SYSTEM_NAME",name:"Systemnamn"},{id:"COMPANY_NAME",name:"Föreningsnamn"},{id:"COMPANY_CONTACT_EMAIL",name:"Förening Kontakt e-post"},{id:"COMPANY_CONTACT_NAME",name:"Förening Kontaktperson"},{id:"COMPANY_CONTACT_PHONE",name:"Förening Kontakt telefon"},{id:"COMPANY_ORG_NUMBER",name:"Förening Org.nummer"},{id:"COMPANY_LOGO",name:"Förening logotyp"},{id:"COMPANY_ADDRESS",name:"Förening adress"},{id:"COMPANY_ID",name:"FöreningsID"},{id:"COMPANY_ZIP",name:"Förening Postkod"},{id:"COMPANY_WWW",name:"Förening Hemsida"},{id:"COMPANY_SWISH",name:"Förening Swish"},{id:"COMPANY_VAT",name:"Förening Momsnummer"},{id:"COMPANY_PLUSGIRO",name:"Förening Plusgiro"},{id:"COMPANY_BANKGIRO",name:"Förening Bankgiro"},{id:"TODO_NAME",name:"Ärendenamn"},{id:"TODO_DESCR",name:"Ärendebeskrivning"},{id:"TODO_ID",name:"Ärende ID"},{id:"TODO_FROM_DATETIME",name:"Ärende från tidsstämpel"},{id:"TODO_TO_DATETIME",name:"Ärende till tidsstämpel"},{id:"TODO_TASK_ID",name:"Ärende åtgärdsID"},{id:"TODO_TASK_NAME",name:"Ärende åtgärdsnamn"},{id:"TODO_TASK_DESCR",name:"Ärende åtgärdsbeskrivning"},{id:"TODO_TASK_LATEST_COMMENT_TEXT",name:"Ärende åtgärd senaste kommentar"},{id:"TODO_TASK_LATEST_COMMENT_USERNAME",name:"Ärende åtgärd senaste kommentar användarnamn"},{id:"TODO_TASK_LATEST_COMMENT_CREATED_AT",name:"Ärende åtgärd senaste komentar datum"},{id:"CREATOR_COMPANY_NAME",name:"Ärende: Skapande förening namn"},{id:"CREATOR_COMPANY_CONTACT_EMAIL",name:"Ärende: Skapande förening kontakt e-post"},{id:"CREATOR_COMPANY_CONTACT_NAME",name:"Ärende: Skapande förening kontaktperson"},{id:"CREATOR_COMPANY_CONTACT_PHONE",name:"Ärende: Skapande förening kontakt telefon"},{id:"CREATOR_COMPANY_ORG_NUMBER",name:"Ärende: Skapande förening org.nummer"},{id:"CREATOR_COMPANY_LOGO",name:"Ärende: Skapande förening logotyp"},{id:"CREATOR_COMPANY_ADDRESS",name:"Ärende: Skapande förening gatuadress"},{id:"CREATOR_COMPANY_ID",name:"Ärende: Skapande föreningsID"},{id:"CREATOR_COMPANY_ZIP",name:"Ärende: Skapande förening postkod"},{id:"CREATOR_COMPANY_WWW",name:"Ärende: Skapande förening hemsida"},{id:"CREATOR_COMPANY_SWISH",name:"Ärende: Skapande förening swish"},{id:"CREATOR_COMPANY_VAT",name:"Ärende: Skapande förening momsnummer"},{id:"CREATOR_COMPANY_PLUSGIRO",name:"Ärende: Skapande förening plusgiro"},{id:"CREATOR_COMPANY_BANKGIRO",name:"Ärende: Skapande förening bankgiro"},{id:"CHILD_COMPANY_ID",name:"Ärende: UnderföreningsID"},{id:"CHILD_COMPANY_NAME",name:"Ärende: Underförening namn"},{id:"CHILD_COMPANY_ADDRESS",name:"Ärende: Underförening gatuadress"},{id:"CHILD_COMPANY_ZIPCODE",name:"Ärende: Underförening postkod"},{id:"CHILD_COMPANY_ORG_NUMBER",name:"Ärende: Underförening org.nummer"},{id:"CHILD_COMPANY_CONTACT_NAME",name:"Ärende: Underförening kontaktperson"},{id:"CHILD_COMPANY_CONTACT_PHONE",name:"Ärende: Underförening kontakt telefon"},{id:"CHILD_COMPANY_CONTACT_EMAIL",name:"Ärende: Underförening kontakt e-post"},{id:"PARENT_COMPANY_ID",name:"Moderförening: ID"},{id:"PARENT_COMPANY_NAME",name:"Moderförening: Namn"},{id:"PARENT_COMPANY_ADDRESS",name:"Moderförening: Gatuadress"},{id:"PARENT_COMPANY_ZIPCODE",name:"Moderförening: Postkod"},{id:"PARENT_COMPANY_ORG_NUMBER",name:"Moderförening: Org.nummer"},{id:"PARENT_COMPANY_CONTACT_NAME",name:"Moderförening: Kontaktperson"},{id:"PARENT_COMPANY_CONTACT_PHONE",name:"Moderförening: Kontakt telefon"},{id:"PARENT_COMPANY_CONTACT_EMAIL",name:"Moderförening: Kontakt e-post"},{id:"EVENT_NAME",name:"Evenemang: Namn"},{id:"EVENT_ADDRESS",name:"Evenemang: Gatuadress"},{id:"EVENT_ZIPCODE",name:"Evenemang: Postkod"},{id:"EVENT_POSTAL",name:"Evenemang: Postort"},{id:"EVENT_FROM",name:"Evenemang: Från datum"},{id:"EVENT_TO",name:"Evenemang: Till datum"},{id:"EVENT_COST",name:"Evenemang: Kostnad"},{id:"EVENT_LAT",name:"Evenemang: GEO Latitud"},{id:"EVENT_LNG",name:"Evenemang: GEO Longitud"},{id:"EVENT_ID",name:"Evenemang: ID"},{id:"CLIENT_EVENT_ID",name:"Evenemangsbiljett: ID"},{id:"CLIENT_EVENT_QR_TICKET",name:"Evenemangsbiljett: QR biljett"},{id:"TEMPLATE_REPLY_TO",name:"Mall: reply-to"},{id:"TEMPLATE_FROM_NAME",name:"Mall: från namn"}],p=m,f=n("2f62"),h={name:"EmailTemplateEditor",components:{EmailEditor:u["EmailEditor"]},props:["design"],computed:Object(o["a"])(Object(o["a"])({},Object(f["b"])(["currentCompanyId","currentPeriodId"])),{},{options:function(){return{user:{id:this.currentCompanyId},mergeTags:{},features:{userUploads:!0}}}}),data:function(){return{minHeight:"790px",locale:"en",projectId:14545,appearance:{theme:"dark",panels:{tools:{dock:"right"}}}}},mounted:function(){var e=this;p.filter((function(t){e.options.mergeTags[t.id]={name:t.name,value:"%".concat(t.id,"%")}}))},methods:{editorLoaded:function(){var e=this.isJson(this.design)?JSON.parse(this.design):this.design;try{this.$refs["emailEditor"].editor.loadDesign(e)}catch(t){console.log(t)}},saveDesign:function(){var e=this;this.$refs["emailEditor"].editor.saveDesign((function(t){e.$refs["emailEditor"].editor.exportHtml((function(n){e.$emit("saveDesign",JSON.stringify(t),n.html)}))}))},isJson:function(e){try{JSON.parse(e)}catch(t){return!1}return!0}}},_=h,b=(n("db04"),n("2877")),v=Object(b["a"])(_,l,d,!1,null,"ceb00236",null),g=v.exports,C=n("bc3a"),y=n.n(C),T=n("07cd"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card card-custom card-stretch gutter-b"},[n("div",{staticClass:"card-header border-0 py-5 ml-2"},[n("h3",{staticClass:"card-title align-items-start flex-column"}),n("div",{staticClass:"d-flex justify-content-end"},[e.isTalongAdmin?n("div",{staticClass:"card-header border-0 py-5"},[n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.showAll,expression:"showAll"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(e.showAll)?e._i(e.showAll,null)>-1:e.showAll},on:{change:function(t){var n=e.showAll,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=null,s=e._i(n,a);i.checked?s<0&&(e.showAll=n.concat([a])):s>-1&&(e.showAll=n.slice(0,s).concat(n.slice(s+1)))}else e.showAll=r}}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer font-size-lg font-weight-bolder"},[e._v("Visa alla")])])]):e._e(),n("div",{staticClass:"card-toolbar"},[n("a",{staticClass:"btn btn-primary font-weight-bolder font-size-sm",attrs:{href:"#"},on:{click:e.createTemplateClicked}},[n("i",{staticClass:"menu-icon flaticon2-plus",staticStyle:{"font-size":"1.0em"}}),e._v("Ny Mall")])])])]),n("div",{staticClass:"card-header border-0 py-5 m-1"},[n("div",[n("b-select",{attrs:{options:e.options},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1),n("b-pagination",{staticClass:"ml-auto mb-0",attrs:{"total-rows":e.list.length,"per-page":e.perPage,"aria-controls":"template-table","first-number":"","last-number":""},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),n("div",{staticClass:"card-body pt-0"},[n("b-table",{staticClass:"mh-100",attrs:{id:"template-table",fields:e.headers,items:e.list,"per-page":e.perPage,"current-page":e.currentPage,"head-variant":"light","sticky-header":""},scopedSlots:e._u([{key:"cell(is_email_stickprov)",fn:function(e){return[n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{attrs:{type:"checkbox",name:"",disabled:""},domProps:{checked:Boolean(e.item.is_email_stickprov)}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"})])]}},{key:"cell(is_sms_stickprov)",fn:function(e){return[n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{attrs:{type:"checkbox",name:"",disabled:""},domProps:{checked:Boolean(e.item.is_sms_stickprov)}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"})])]}},{key:"cell(is_system)",fn:function(t){return[e.isTalongAdmin?n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.is_system,expression:"row.item.is_system"}],attrs:{type:"checkbox",name:""},domProps:{checked:Array.isArray(t.item.is_system)?e._i(t.item.is_system,null)>-1:t.item.is_system},on:{change:[function(n){var i=t.item.is_system,r=n.target,a=!!r.checked;if(Array.isArray(i)){var s=null,o=e._i(i,s);r.checked?o<0&&e.$set(t.item,"is_system",i.concat([s])):o>-1&&e.$set(t.item,"is_system",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(t.item,"is_system",a)},function(n){return n.preventDefault(),e.changeSystem(t.item)}]}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"})]):e._e()]}},{key:"cell(template_id)",fn:function(t){return[n("div",{staticClass:"justify-content-end d-flex"},[n("a",{staticClass:"btn btn-icon btn-light btn-sm",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.copyTemplateClicked(t.item)}}},[n("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[n("i",{staticClass:"far fa-copy",staticStyle:{color:"#3699FF"}})])]),n("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:function(n){return e.selectTemplateClicked(t.item.template_id)}}},[n("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[n("inline-svg",{attrs:{src:"/assets/svg/Write.svg"}})],1)]),n("a",{staticClass:"btn btn-icon btn-light btn-sm",attrs:{href:"#"},on:{click:function(n){return e.deleteTemplateClicked(t.item.template_id)}}},[n("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[n("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])])]}}])})],1)])},k=[],O=(n("4160"),n("159b"),n("4a7a")),A=n.n(O),S=(n("6dfc"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("td",[n("span",{staticClass:"text-dark-75 font-weight-bolder d-block font-size-lg pl-4"},[e._v(e._s(e.template.name))])]),n("td",{attrs:{nowrap:"nowrap"}},[n("span",{staticClass:"text-dark-75 font-weight-bolder d-block font-size-lg"},[e._v(e._s(e.template.created_at))])]),n("td",{attrs:{nowrap:"nowrap"}},[n("span",{staticClass:"text-dark-75 font-weight-bolder d-block font-size-lg"},[e._v(e._s(e.template.updated_at))])]),n("td",{attrs:{nowrap:"wrap"}},[n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{attrs:{type:"checkbox",name:"",disabled:""},domProps:{checked:!Boolean(e.template.is_sms)}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"})])]),n("td",[n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"checkbox checkbox-lg checkbox-outline checkbox-success"},[n("input",{attrs:{type:"checkbox",name:"",disabled:""},domProps:{checked:Boolean(e.template.is_sms)}}),n("span")]),n("span",{staticClass:"ml-3 cursor-pointer"})])]),n("td",{staticClass:"text-right pr-0"},[n("div",{staticClass:"justify-content-start d-flex"},[n("a",{staticClass:"btn btn-icon btn-light btn-sm",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.copyTemplateClicked()}}},[e._m(0)]),n("a",{staticClass:"btn btn-icon btn-light btn-sm mx-3",attrs:{href:"#"},on:{click:function(t){return e.selectTemplateClicked(e.template.template_id)}}},[n("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[n("inline-svg",{attrs:{src:"/assets/svg/Write.svg"}})],1)]),n("a",{staticClass:"btn btn-icon btn-light btn-sm",attrs:{href:"#"},on:{click:function(t){return e.deleteTemplateClicked(e.template.template_id)}}},[n("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[n("inline-svg",{attrs:{src:"/assets/svg/Trash.svg"}})],1)])])])])}),N=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[n("i",{staticClass:"far fa-copy",staticStyle:{color:"#3699FF"}})])}],x={name:"templates-table-row",props:["template"],computed:Object(o["a"])({},Object(f["b"])(["currentCompanyId","titles"])),data:function(){return{is_sms:!1}},mounted:function(){},watch:{},methods:{copyTemplateClicked:function(){this.$emit("copyTemplateClicked",this.template)},selectTemplateClicked:function(e){this.$emit("selectTemplateClicked",e)},deleteTemplateClicked:function(e){this.$emit("deleteTemplateClicked",e)}}},M=x,I=(n("b987"),Object(b["a"])(M,S,N,!1,null,"f7fad2fe",null)),w=I.exports,P={name:"templates-table",props:["items","titles","currentCompanyId"],components:{TemplateTableRow:w,vSelect:A.a},watch:{showAll:function(){this.showList()},items:function(){this.showList()}},computed:Object(o["a"])({},Object(f["b"])(["isTalongAdmin"])),mounted:function(){this.showList(),this.isTalongAdmin||this.headers.splice(5,1)},methods:{showList:function(){var e=this,t=this.showAll?this.items:this.items.filter((function(t){return t.company_id===e.currentCompanyId}));this.list=t},createTemplateClicked:function(){this.$emit("createTemplateClicked")},copyTemplateClicked:function(e){var t=e;this.$emit("copyTemplateClicked",t,this.showAll)},selectTemplateClicked:function(e){this.$emit("selectTemplateClicked",e)},deleteTemplateClicked:function(e){this.$emit("deleteTemplateClicked",e)},changeSystem:function(e){this.$emit("changeSystem",e)},toastr:function(e,t,n){this.$emit("toastr",e,t,n)},getTitle:function(e){return this.titles.forEach((function(t){if(t.id==e)return t.name})),""}},data:function(){return{showAll:!1,currentPage:1,perPage:25,options:[25,50,100],headers:[{key:"name",label:"Namn",sortable:!0,thClass:"pl-7 align-middle",tdClass:"pl-7 align-middle"},{key:"created_at",label:"Skapat",thClass:"w-165px align-middle",tdClass:"w-165px align-middle",sortable:!0},{key:"updated_at",label:"Uppdaterat",thClass:"w-165px align-middle",tdClass:"w-165px align-middle",sortable:!0},{key:"is_email_stickprov",label:"E-post",thClass:"w-80px align-middle",tdClass:"align-middle"},{key:"is_sms_stickprov",label:"SMS",thClass:"w-50px align-middle",tdClass:"align-middle"},{key:"is_system",label:"System",thClass:"w-50px align-middle",tdClass:"pl-8 align-middle"},{key:"template_id",label:"Hantera",thClass:"w-120px text-right pr-12 align-middle"}],list:[]}}},R=P,L=(n("3fbd"),Object(b["a"])(R,E,k,!1,null,"01547fa4",null)),D=L.exports,F={name:"templates",components:{TemplatesTable:D,editor:c["a"],CompanySelect:T["a"],EmailTemplateEditor:g},computed:Object(o["a"])(Object(o["a"])({},Object(f["b"])(["currentCompanyId","currentPeriodId","periods","isTalongAdmin"])),{},{fullscreen_visible:function(){var e=this.fullscreen?"block":"none";return"display:".concat(e)},templateDesign:function(){return this.form.edit_html},isSMS:function(){return this.sms}}),mounted:function(){this.loadTemplates()},data:function(){return{form:{template_id:"",reply_to:"",name:"",subject:"",type:[],content:"",template:"",stickprov:!1,is_system:!1},stickprov:!1,sms:!1,sms_content:"",creating:!1,editing:!1,moving:!1,templates:[],fullscreen:!1,sendout_id:null}},watch:{currentCompanyId:function(e,t){e&&this.loadTemplates()}},methods:{loadData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currentCompanyId){t.next=2;break}return t.abrupt("return");case 2:if(e.titles){t.next=4;break}return t.abrupt("return");case 4:e.loadTemplates();case 5:case"end":return t.stop()}}),t)})))()},createTemplate:function(){this.creating=!0,this.editing=!1,this.moving=!1,this.resetForm(),this.scrollToEditTemplate()},copyTemplateToCompany:function(e,t){var n=this;y.a.post("/template/copy",{template_id:e,company_id:t}).then((function(e){})).catch((function(e){console.error(e),n.toastr("danger","Server Fel","Kunde inte kopiera mallen")}))},copyTemplate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&e.company_id!=this.currentCompanyId?y.a.get("/template?template_id=".concat(e.template_id,"&company_id=").concat(this.currentCompanyId)).then((function(e){t.form=e.data.template,t.moving=!0,t.creating=!0,t.editing=!0,t.stickprov=1===e.data.template.is_email_stickprov,t.sms=1===e.data.template.is_sms_stickprov,t.scrollToEditTemplate()})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte hämta mallar")})):y.a.post("/template/copy",{template_id:e.template_id}).then((function(e){t.templates.push(e.data.template),t.toastr("success","OK","Mallen kopierades")})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte kopiera mallen")}))},deleteTemplate:function(e){var t=this;y.a.delete("/template?template_id=".concat(e,"&company_id=").concat(this.currentCompanyId)).then((function(n){t.templates=t.templates.filter((function(t){return t.template_id!==e})),t.creating=!1,t.editing=!1,t.toastr("success","OK","Mallen togs bort")})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte ta bort mallar")}))},changeSystem:function(e){var t=this;y.a.put("/template",e).then((function(e){t.toastr("success","OK","Mallen uppdaterades")})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte uppdatera mall")}))},selectTemplate:function(e){var t=this;y.a.get("/template?template_id=".concat(e,"&company_id=").concat(this.currentCompanyId)).then((function(e){t.form=e.data.template,t.creating=!1,t.editing=!0,t.stickprov=1===e.data.template.is_email_stickprov,t.sms=1===e.data.template.is_sms_stickprov,t.sms_content=t.sms?e.data.template.template:"",t.scrollToEditTemplate()})).catch((function(e){console.error(e),t.toastr("danger","Server Fel","Kunde inte hämta mallar")}))},getLangText:function(e,t){for(var n=0;n<e.length;++n)if(e[n].lang===t)return e[n].text;return"Språköversättning saknas"},loadTemplates:function(){var e=this;this.templates=[];var t=this.$loading.show();y.a.get("/template/list?company_id=".concat(this.currentCompanyId)).then((function(n){200===n.status&&(e.templates=n.data.templates,e.isTalongAdmin||(e.templates=e.templates.filter((function(e){return 1!==e.is_system}))),t.hide(),e.setTemplateProps())})).catch((function(n){console.error(n),t.hide(),e.toastr("danger","Server Fel","Kunde inte lista mallar")}))},scrollToEditTemplate:function(){var e=this;setTimeout((function(){var t=e.$el.getElementsByClassName("scroll-to-container")[0];if(t){var n=-70,i=t.getBoundingClientRect().top+window.pageYOffset+n;window.scrollTo({top:i,behavior:"smooth"})}}),100)},saveTemplate:function(){var e=this;this.form.company_id=this.currentCompanyId,this.form.is_email_stickprov=this.stickprov?1:0,this.form.is_sms_stickprov=this.sms?1:0,this.creating?(this.sms&&(this.form.template=this.sms_content,this.form.edit_html=""),y.a.post("/template",this.form).then((function(t){200===t.status&&(e.toastr("success","OK","Mallen skapades"),e.creating=!1,e.editing=!1,e.templates.push(t.data.template))})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte skapa mallen")}))):this.editing&&y.a.put("/template",this.form).then((function(t){if(204===t.status){e.toastr("success","OK","Mallen uppdaterad"),e.creating=!1;var n=e.form,i=n.company_id,r=n.created_at,a=n.is_sms,s=n.name,o=n.template_id,c=n.updated_at;e.templates.filter((function(t,n){t.template_id===o&&(e.templates.splice(n,1),e.templates.push({company_id:i,created_at:r,is_sms:a,name:s,template_id:o,updated_at:c}))}))}})).catch((function(t){console.error(t),e.toastr("danger","Server Fel","Kunde inte uppdatera mallen")}))},toggleFullscreen:function(){this.fullscreen=!this.fullscreen},saveDesign:function(e,t){this.form.template=t,this.form.edit_html=e,this.saveTemplate(),this.toggleFullscreen()},backToSendout:function(){this.$router.push("/ml-sendout/".concat(this.sendout_id))},setTemplateProps:function(){var e=parseInt(this.$route.params.sendout_id),t=this.$route.params.template_id,n=Boolean(parseInt(this.$route.params.is_edit));isNaN(e)||(this.form.template_id=n?t:"",this.sendout_id=e,this.editing=n,this.creating=!n,n?this.selectTemplate(t):this.createTemplate())},resetForm:function(){var e={template_id:"",reply_to:"",name:"",subject:"",type:[],content:"",template:"",edit_html:"",stickprov:!1};this.form=e,this.sms=!1,this.stickprov=!1},moveToCompanies:function(){var e,t=this.$refs["companies_selected"].getCompanies(),n=Object(a["a"])(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.copyTemplateToCompany(this.form.template_id,i)}}catch(r){n.e(r)}finally{n.f()}this.toastr("success","OK","Mallen kopierad till föreningarna")},toastr:function(e,t,n){this.$bvToast.toast(n,{title:t,autoHideDelay:2e3,appendToast:!0,variant:e})}}},j=F,Y=(n("fbba"),n("88ef"),Object(b["a"])(j,i,r,!1,null,"e73b6972",null));t["default"]=Y.exports},fd5e:function(e,t,n){}}]);
//# sourceMappingURL=chunk-765984e6.2157780e.js.map